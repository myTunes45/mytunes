  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:21:08', '2015-07-17 12:21:08', 980190962)[0m
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
SongTest: test_belongs_to_artist
--------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
SongTest: test_belongs_to_genre
-------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:21:37', '2015-07-17 12:21:37', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:22:59', '2015-07-17 12:22:59', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms)
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:24:11', '2015-07-17 12:24:11', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:35:10', '2015-07-17 12:35:10', 980190962)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:38:54', '2015-07-17 12:38:54', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:40:18', '2015-07-17 12:40:18', 980190962)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:42:05', '2015-07-17 12:42:05', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.4ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:42:49', '2015-07-17 12:42:49', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 11ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:43:44', '2015-07-17 12:43:44', 980190962)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:44:52', '2015-07-17 12:44:52', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35mSong Load (0.7ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:45:15', '2015-07-17 12:45:15', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.4ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:45:15.930320"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:46:20', '2015-07-17 12:46:20', 980190962)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:46:20.497078"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:47:26', '2015-07-17 12:47:26', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:47:26.715745"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:49:10', '2015-07-17 12:49:10', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:49:10.743763"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:49:42', '2015-07-17 12:49:42', 980190962)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:49:43.076910"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:50:30', '2015-07-17 12:50:30', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:50:30.180360"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.4ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.4ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:51:23', '2015-07-17 12:51:23', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:51:23.884869"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:51:47', '2015-07-17 12:51:47', 980190962)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:51:48.010478"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:52:17', '2015-07-17 12:52:17', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:52:17.666102"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:52:46', '2015-07-17 12:52:46', 980190962)[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:52:46.108232"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:53:14', '2015-07-17 12:53:14', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:53:14.192488"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:54:17', '2015-07-17 12:54:17', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.4ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 12:59:02.685547"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 12:59:08', '2015-07-17 12:59:08', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:00:11.574179"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:00:34', '2015-07-17 13:00:34', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 12ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:00:46.295518"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:00:51', '2015-07-17 13:00:51', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:00:51.368056"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:01:07', '2015-07-17 13:01:07', 980190962)[0m
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:01:07.869516"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:01:22', '2015-07-17 13:01:22', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:01:22.807875"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:01:50', '2015-07-17 13:01:50', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:01:50.835911"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:02:05', '2015-07-17 13:02:05', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "songs" ("title", "duration", "album", "url", "artist", "genre", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["artist", "test artist1"], ["genre", "test genre"], ["created_at", "2015-07-17 13:02:36.379608"], ["updated_at", "2015-07-17 13:02:36.379608"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", nil]]
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."title" = $1 LIMIT 1[0m  [["title", "test"]]
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:04:23.758758"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:04:35', '2015-07-17 13:04:35', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:04:35.148472"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:05:21', '2015-07-17 13:05:21', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.4ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:05:21.600896"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:06:27', '2015-07-17 13:06:27', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.4ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:06:27.655602"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:07:40', '2015-07-17 13:07:40', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:07:40.914508"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:08:45', '2015-07-17 13:08:45', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.5ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:08:45.246880"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:09:12', '2015-07-17 13:09:12', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Api::SongsControllerTest: test_DELETE_an_song
---------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_POST_create_an_song
--------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Api::SongsControllerTest: test_GET_show_an_song
-----------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_an_song
---------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:09:12.251576"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:12:42', '2015-07-17 13:12:42', 980190962)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:12:42.255082"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:17:55', '2015-07-17 13:17:55', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", 130], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:17:55.473403"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 7ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[36mSong Load (0.4ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (225.6ms)[0m  [1mDROP DATABASE IF EXISTS "mytunes2_test"[0m
  [1m[35m (251.8ms)[0m  CREATE DATABASE "mytunes2_test" ENCODING = 'unicode'
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "songs" ("id" serial primary key, "title" character varying NOT NULL, "duration" character varying, "url" character varying NOT NULL, "album" character varying, "artist" character varying NOT NULL, "genre" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (4.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150717133053')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150717120323')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "songs"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', '320', 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:32:43', '2015-07-17 13:32:43', 980190962)
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 12ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", "130"], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:32:43.870138"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', '320', 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:35:35', '2015-07-17 13:35:35', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[36mSong Load (0.6ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.4ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", "130"], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:35:35.502834"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', '320', 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:37:11', '2015-07-17 13:37:11', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6  [["title", "test"], ["duration", "130"], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:37:12.074236"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', '320', 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:41:41', '2015-07-17 13:41:41', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', '320', 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:42:02', '2015-07-17 13:42:02', 980190962)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 12ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", "130"], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:42:29.930811"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', '320', 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:42:40', '2015-07-17 13:42:40', 980190962)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.3ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.3ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Unpermitted parameters: artist, genre
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Unpermitted parameters: artist, genre
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "updated_at" = $5 WHERE "songs"."id" = $6[0m  [["title", "test"], ["duration", "130"], ["album", "test album"], ["url", "www.google.com"], ["updated_at", "2015-07-17 13:42:40.903849"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "songs"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', '320', 'http://www.testy.com', 'Test Artist', 'Test Genre', '2015-07-17 13:44:42', '2015-07-17 13:44:42', 980190962)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "album" = $3, "url" = $4, "artist" = $5, "genre" = $6, "updated_at" = $7 WHERE "songs"."id" = $8  [["title", "test"], ["duration", "130"], ["album", "test album"], ["url", "www.google.com"], ["artist", "test artist1"], ["genre", "test genre"], ["updated_at", "2015-07-17 13:44:42.802813"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "album", "url", "artist", "genre", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "test"], ["duration", "130"], ["album", "test album"], ["url", "www.google.com"], ["artist", "test artist1"], ["genre", "test genre"], ["created_at", "2015-07-17 13:44:42.825904"], ["updated_at", "2015-07-17 13:44:42.825904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (227.6ms)[0m  [1mDROP DATABASE IF EXISTS "mytunes2_test"[0m
  [1m[35m (340.8ms)[0m  CREATE DATABASE "mytunes2_test" ENCODING = 'unicode'
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.5ms)[0m  CREATE TABLE "songs" ("id" serial primary key, "title" character varying NOT NULL, "duration" integer, "url" character varying NOT NULL, "artist" character varying NOT NULL, "genre" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (3.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150717150659')
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "songs"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 0, '2015-07-17 15:14:41', '2015-07-17 15:14:41', 980190962)
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (114.4ms)[0m  [1mDROP DATABASE IF EXISTS "mytunes2_test"[0m
  [1m[35m (241.1ms)[0m  CREATE DATABASE "mytunes2_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.9ms)[0m  CREATE TABLE "songs" ("id" serial primary key, "title" character varying NOT NULL, "duration" integer, "url" character varying NOT NULL, "artist" character varying NOT NULL, "genre" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "album" character varying) 
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150717152012')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150717150659')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "songs" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "songs"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "songs" ("title", "duration", "url", "artist", "genre", "created_at", "updated_at", "id") VALUES ('A Testy song', 320, 'http://www.testy.com', 'Test Artist', 0, '2015-07-17 15:21:20', '2015-07-17 15:21:20', 980190962)
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "songs" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SongTest: test_artist_cannot_be_blank
-------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
SongTest: test_the_fixture_is_valid
-----------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
SongTest: test_url_cannot_be_blank
----------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------
SongTest: test_title_cannot_be_blank
------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SongTest: test_duration_must_be_a_number
----------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Api::SongsControllerTest: test_GET_#index
-----------------------------------------
  [1m[36mSong Load (0.3ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#index as HTML
  [1m[35mSong Load (0.2ms)[0m  SELECT "songs".* FROM "songs"
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Api::SongsControllerTest: test_DELETE_a_song
--------------------------------------------
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#destroy as JSON
  Parameters: {"id"=>"980190962"}
  [1m[35mSong Load (0.2ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "songs" WHERE "songs"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "songs"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Api::SongsControllerTest: test_PATCH_update_a_song
--------------------------------------------------
  [1m[36mSong Load (0.2ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by Api::SongsController#update as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>130, "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}, "id"=>"980190962"}
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "songs" SET "title" = $1, "duration" = $2, "url" = $3, "album" = $4, "artist" = $5, "genre" = $6, "updated_at" = $7 WHERE "songs"."id" = $8  [["title", "test"], ["duration", 130], ["url", "www.google.com"], ["album", "test album"], ["artist", "test artist1"], ["genre", 0], ["updated_at", "2015-07-17 15:21:20.423683"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Api::SongsControllerTest: test_POST_create_a_song
-------------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
Processing by Api::SongsController#create as JSON
  Parameters: {"song"=>{"title"=>"test", "duration"=>"130", "album"=>"test album", "url"=>"www.google.com", "artist"=>"test artist1", "genre"=>"test genre"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "songs" ("title", "duration", "url", "album", "artist", "genre", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "test"], ["duration", 130], ["url", "www.google.com"], ["album", "test album"], ["artist", "test artist1"], ["genre", 0], ["created_at", "2015-07-17 15:21:20.433199"], ["updated_at", "2015-07-17 15:21:20.433199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "songs"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Api::SongsControllerTest: test_GET_show_a_song
----------------------------------------------
  [1m[35mSong Load (0.1ms)[0m  SELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by Api::SongsController#show as JSON
  Parameters: {"id"=>"980190962"}
  [1m[36mSong Load (0.1ms)[0m  [1mSELECT  "songs".* FROM "songs" WHERE "songs"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
